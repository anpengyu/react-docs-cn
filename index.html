<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">

    <!-- Basic -->
    <title>React Apollo | Apollo React 中文文档</title>
    <meta name="description" content="Apollo Client 会管理好 React 应用的后台 GraphQ L 数据，不用你自己操心。">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" type="image/png" href="images/favicon.png" sizes="16x16 32x32 64x64">

    <!-- Social -->
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://apollographqlcn.github.io/react-docs-cn">
    <meta property="og:title" content="React Apollo | Apollo React 中文文档">
    <meta property="og:description" content="Apollo Client 会管理好 React 应用的后台 GraphQ L 数据，不用你自己操心。">
    <meta property="og:image" content="">
    <meta name="twitter:card" content="summary_image_large">
    <meta name="twitter:site" content="@apollographqlcn">
    <meta name="twitter:title" content="React Apollo | Apollo React 中文文档">
    <meta name="twitter:description" content="Apollo Client 会管理好 React 应用的后台 GraphQ L 数据，不用你自己操心。">
    <meta name="twitter:image" content="">

    <!-- Misc -->
    <meta name="google-site-verification" content="" />
    <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,300,200,300italic,400italic' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/react-docs-cn/style/style.css">
  </head>
  <body class="">
    

<div class="nav dark">
  <div class="nav-group">
    <div class="nav-item show-mobile">
      <span class="js-sidebar-toggle ">
        <span class="icon-menu"></span>
      </span>
    </div>
    <div class="nav-item">
      
      <a class="logo-wrapper" href="http://dev.apollodata.com/" title="Apollo Developers"  >
        <img src="images/logo-apollo-space-left.svg" alt="Apollo" class="logo"/><img src="images/logo-apollo-subbrands-developers-space.svg" class="logo-subbrand" alt="Developers"/>
      </a>
    </div>
  </div>

  <div class="nav-group right">
    
      
      <div class="nav-item show-desktop false ">
        <a class="link" href="https://apollographqlcn.github.io/react-docs-cn/"  >
          <span>React</span>
        </a>
      </div>
    
      
      <div class="nav-item show-desktop false ">
        <a class="link" href="http://dev.apollodata.com/angular2"  >
          <span>Angular</span>
        </a>
      </div>
    
      
      <div class="nav-item show-desktop false ">
        <a class="link" href="http://dev.apollodata.com/ios"  >
          <span>iOS</span>
        </a>
      </div>
    
      
      <div class="nav-item show-desktop false ">
        <a class="link" href="http://dev.apollodata.com/android"  >
          <span>Android</span>
        </a>
      </div>
    
      
      <div class="nav-item show-desktop false ">
        <a class="link" href="http://dev.apollodata.com/core"  >
          <span>Vanilla JS</span>
        </a>
      </div>
    
      
      <div class="nav-item show-desktop false separator">
        <a class="link" href="http://dev.apollodata.com/tools"  >
          <span>Server</span>
        </a>
      </div>
    
      
      <div class="nav-item show-desktop false ">
        <a class="link" href="https://medium.com/apollo-stack" target=_new >
          <span>Blog</span>
        </a>
      </div>
    
      
      <div class="nav-item show-desktop false ">
        <a class="link" href="http://dev.apollodata.com/community"  >
          <span>Community</span>
        </a>
      </div>
    
  </div>
</div>

<div class="sidebar">
  <div class="panel">
    <div class="panel-item">
      <a class="" href="http:/dev.apollodata.com/" title="Apollo"  >
        <span>Apollo Developers</span>
      </a>
    </div>
    
      <div class="panel-item "">
        <a class="" href="https://apollographqlcn.github.io/react-docs-cn/"  >
          <span>React</span>
        </a>
      </div>
    
      <div class="panel-item "">
        <a class="" href="http://dev.apollodata.com/angular2"  >
          <span>Angular</span>
        </a>
      </div>
    
      <div class="panel-item "">
        <a class="" href="http://dev.apollodata.com/ios"  >
          <span>iOS</span>
        </a>
      </div>
    
      <div class="panel-item "">
        <a class="" href="http://dev.apollodata.com/android"  >
          <span>Android</span>
        </a>
      </div>
    
      <div class="panel-item "">
        <a class="" href="http://dev.apollodata.com/core"  >
          <span>Vanilla JS</span>
        </a>
      </div>
    
      <div class="panel-item "">
        <a class="" href="http://dev.apollodata.com/tools"  >
          <span>Server</span>
        </a>
      </div>
    
      <div class="panel-item "">
        <a class="" href="https://medium.com/apollo-stack" target=_new >
          <span>Blog</span>
        </a>
      </div>
    
      <div class="panel-item "">
        <a class="" href="http://dev.apollodata.com/community"  >
          <span>Community</span>
        </a>
      </div>
    
  </div>

  <div class="sidebar-content">
    <div class="topcap">
      <span class="title-sidebar">Apollo React 中文文档</span>
      
    </div>

    

    <ul class="toc">
      
        <li>
          
          <ul class="list-toc">
            
              
              <li class="item-toc  current">
                <a href="" class="sidebar-link  current">
                  <span>简介</span>
                </a>
              </li>
            
              
              <li class="item-toc ">
                <a href="initialization.html" class="sidebar-link ">
                  <span>设置和选项</span>
                </a>
              </li>
            
              
              <li class="item-toc ">
                <a href="simple-example.html" class="sidebar-link ">
                  <span>简易示例：Snack</span>
                </a>
              </li>
            
              
              <li class="item-toc ">
                <a href="example-schema.html" class="sidebar-link ">
                  <span>完整示例：GitHunt</span>
                </a>
              </li>
            
              
              <li class="item-toc ">
                <a href="migration.html" class="sidebar-link ">
                  <span>迁移到1.0</span>
                </a>
              </li>
            
          </ul>
        </li>
      
        <li>
          
            <div class="heading-toc">Usage</div>
          
          <ul class="list-toc">
            
              
              <li class="item-toc ">
                <a href="queries.html" class="sidebar-link ">
                  <span>查询</span>
                </a>
              </li>
            
              
              <li class="item-toc ">
                <a href="mutations.html" class="sidebar-link ">
                  <span>突变</span>
                </a>
              </li>
            
              
              <li class="item-toc ">
                <a href="subscriptions.html" class="sidebar-link ">
                  <span>订阅</span>
                </a>
              </li>
            
              
              <li class="item-toc ">
                <a href="receiving-updates.html" class="sidebar-link ">
                  <span>同步服务端数据</span>
                </a>
              </li>
            
              
              <li class="item-toc ">
                <a href="cache-updates.html" class="sidebar-link ">
                  <span>更新 Store</span>
                </a>
              </li>
            
              
              <li class="item-toc ">
                <a href="using-with-types.html" class="sidebar-link ">
                  <span>使用 TypeScript 和 Flow</span>
                </a>
              </li>
            
          </ul>
        </li>
      
        <li>
          
            <div class="heading-toc">API Reference</div>
          
          <ul class="list-toc">
            
              
              <li class="item-toc ">
                <a href="api.html" class="sidebar-link ">
                  <span>综合</span>
                </a>
              </li>
            
              
              <li class="item-toc ">
                <a href="api-graphql.html" class="sidebar-link ">
                  <span>graphql: 容器</span>
                </a>
              </li>
            
              
              <li class="item-toc ">
                <a href="api-queries.html" class="sidebar-link ">
                  <span>graphql: 查询</span>
                </a>
              </li>
            
              
              <li class="item-toc ">
                <a href="api-mutations.html" class="sidebar-link ">
                  <span>graphql: 突变</span>
                </a>
              </li>
            
              
              <li class="item-toc ">
                <a href="api-server.html" class="sidebar-link ">
                  <span>服务端渲染</span>
                </a>
              </li>
            
          </ul>
        </li>
      
        <li>
          
            <div class="heading-toc">Recipes</div>
          
          <ul class="list-toc">
            
              
              <li class="item-toc ">
                <a href="auth.html" class="sidebar-link ">
                  <span>认证</span>
                </a>
              </li>
            
              
              <li class="item-toc ">
                <a href="pagination.html" class="sidebar-link ">
                  <span>分页</span>
                </a>
              </li>
            
              
              <li class="item-toc ">
                <a href="optimistic-ui.html" class="sidebar-link ">
                  <span>Optimistic UI</span>
                </a>
              </li>
            
              
              <li class="item-toc ">
                <a href="fragments.html" class="sidebar-link ">
                  <span>使用片段</span>
                </a>
              </li>
            
              
              <li class="item-toc ">
                <a href="prefetching.html" class="sidebar-link ">
                  <span>预取数据</span>
                </a>
              </li>
            
              
              <li class="item-toc ">
                <a href="query-splitting.html" class="sidebar-link ">
                  <span>Query Splitting</span>
                </a>
              </li>
            
              
              <li class="item-toc ">
                <a href="react-native.html" class="sidebar-link ">
                  <span>与 React Native 集成</span>
                </a>
              </li>
            
              
              <li class="item-toc ">
                <a href="redux.html" class="sidebar-link ">
                  <span>与 Redux 集成</span>
                </a>
              </li>
            
              
              <li class="item-toc ">
                <a href="webpack.html" class="sidebar-link ">
                  <span>Webpack加载器</span>
                </a>
              </li>
            
              
              <li class="item-toc ">
                <a href="server-side-rendering.html" class="sidebar-link ">
                  <span>服务端渲染</span>
                </a>
              </li>
            
          </ul>
        </li>
      
    </ul>
  </div>
</div>

<div class="content">
  <div class="content-wrapper">
    <div class="header-content">
      <h1 class="title-page">React Apollo</h1>
      
        <div class="subtitle-page">Apollo Client 会管理好 React 应用的后台 GraphQ L 数据，不用你自己操心。</div>
      

      <div class="page-actions">
        <div class="actions-group">
          <a class="btn tertiary small round lowercase" href="https://github.com/apollographqlcn/react-docs-cn/tree/master/source/index.md" target="_blank"><span class="icon-github"></span> <span>Edit on GitHub</span></a>
          
        </div>
      </div>
    </div>

    <div class="document-formatting">
      <p>这是一份官方指南，指导你如何在 React 或 React Native 应用中借助 <a href="https://github.com/apollographql/react-apollo" target="_blank" rel="external">react-apollo</a> 来使用 Graphql。通过 React-Apollo 将 GraphQL 查询绑定到 React 组件，这种方式既简便又强大，因为它帮你做好数据的请求和管理，然后你就可以专心开发 UI。同时，它提供丰富的钩子方法和扩展机制，让你完全可控。</p>
<p>关注 GitHub 上的仓库：<a href="https://github.com/apollographql/react-apollo" target="_blank" rel="external">React-Apollo</a>，<a href="https://github.com/apollographql/apollo-client" target="_blank" rel="external">Apollo Client</a> 和 <a href="https://github.com/apollographql/react-docs" target="_blank" rel="external">这docs site</a>。</p>
<h2 id="tutorials">快速入门</h2>

<p>如果你熟悉 Web 开发，但以前没有用过 GraphQL 或 Apollo，不怕，这里有一套简明教程和例子，花几个小时，你就可以成为高级 GraphQL 开发了！如果你熟悉 Graphql，则可以直接进入<a href="initialization.html">安装</a>。</p>
<h3 id="simple-example"> <a href="simple-example.html">1.简单的例子</a></h3>

<p>快速进入一个简单 app，展示一个用 React Native 与 Apollo 开发的界面。这就是在 Apollo Client 主页上看到的 app，不过多了一些操作交互的建议，还有更详细的代码解释。</p>
<h3 id="full-stack-graphql"> <a href="https://dev-blog.apollodata.com/full-stack-react-graphql-tutorial-582ac8d24e3b#.cwvxzphyc" target="_blank" rel="external">2.全栈 GraphQL + React 教程</a></h3>

<p>本教程将介绍如何搭建 Apollo Client、编写简单服务器，以及如何将它们连接在一起，这个教程几乎每周都在更新。这是由 React-Apollo 的核心开发者 <a href="https://twitter.com/helferjs" target="_blank" rel="external">Jonas Helfer</a> 编写的。</p>
<h3 id="learn-apollo"> <a href="https://www.learnapollo.com" target="_blank" rel="external">3.学习 Apollo</a></h3>

<p>这份社区发起的教程，指导你从零开始构建一个简单的 宠物小精灵 前端应用。有 <a href="https://www.learnapollo.com/tutorial-react/react-01" target="_blank" rel="external">React</a> 版，<a href="https://www.learnapollo.com/tutorial-react-native/react-native-01" target="_blank" rel="external">React Native</a> 版        和其他平台版本。这个「学习 Apollo」教程是由 <a href="https://www.graph.cool/" target="_blank" rel="external">Graphcool</a> 团队和社区进行维护，还提供一个托管的 GraphQL 后端平台，让你不用写一行代码就可以跑 GraphQL 服务器。</p>
<h3 id="usage-recipes"> <a href="queries.html">4. 使用与实践</a></h3>

<p>学习完例子和教程，就可以更加深入了。我们花了很多时间编写这份指南，让你可以像看书一样学习一切 Apollo 和 GraphQL 能做的。特别是，查看「使用」部分，了解 querys 和 mutations 等基本功能，而「实践」部分则针对特定场景实现一些更高级的目标，例如服务端渲染。如果你遇到任何问题，随时向 <a href="http://stackoverflow.com/questions/tagged/apollo" target="_blank" rel="external">Stack Overflow (带上 <code>apollo</code> 标签)</a> 或 <a href="[ http://dev.apollodata.com/#slack">Apollo 社区 Slack</a> 提问！</p>
<h2 id="compatibility">兼容工具</h2>

<p>Apollo Client 的首要设计原则就是兼容你正在使用的前后端工具。维护人员关注解决这些难题：GraphQL 缓存、请求管理、UI 更新，如果对其他方面有任何技术需求或者不同偏好，我们希望也能做到位。</p>
<h3 id="react-toolbox">React 工具</h3>

<p>Apollo 经过专门设计，可以跟目前 React 开发者使用的工具很好的结合。下面列举一些：</p>
<ul>
<li><p><strong>React Native 和 Expo</strong>：Apollo 在 React Native 中开箱即用。它甚至预装在 <a href="https://sketch.expo.io/H1QdWZUjg" target="_blank" rel="external">Expo Sketch</a> 中，因此你可以在浏览器中直接构建一个 React Native + Apollo 的应用。</p>
</li>
<li><p><strong> Redux </strong>：Apollo Client 内部使用 Redux，你可以将其<a href="redux.html">集成到现有 store</a>，使用你喜欢的 Redux 工具，例如 dev tools 或 数据存储持久库。你还可以将 Apollo 与任何其他数据管理库（如 MobX）一起使用。</p>
</li>
<li><p><strong> React Router </strong>：Apollo Client 完全独立于路由，这意味着你可以使用任何版本的 <a href="https://github.com/ReactTraining/react-router" target="_blank" rel="external">React Router</a> 或其他适合 React 的路由库。另外搭建<a href="http://dev.apollodata.com/react/server-side-rendering.html" target="_blank" rel="external">服务器端渲染</a>也特别简单。</p>
</li>
<li><p><strong> Recompose </strong>：借助 <a href="https://github.com/acdlite/recompose" target="_blank" rel="external">Recompose</a>，React-Apollo 的高阶组件可以与各种工具结合，为组件增强功能。 读读<a href="https://dev-blog.apollodata.com/simplify-your-react-components-with-apollo-and-recompose-8b9e302dea51#.z7tbkf8er" target="_blank" rel="external">如何使用它来加载状态和变量</a>、<a href="https://medium.com/front-end-developers/how-i-write-mutations-in-apollo-w-recompose-1c0ab06ef4ea#.iobufopba" target="_blank" rel="external">mutations</a> 以及<a href="https：/ /medium.com/welikegraphql/use-of-recompose-in-universal-react-apollo-example-3d1f89bc945b#.dtxnibu0w">与 Redux container 相结合</a>。</p>
</li>
<li><p><strong> Next.js </strong>：你可以结合轻量级的 Next.js 框架使用 Apollo，实现同构渲染 React 应用。有关详细信息，请查看 <a href="https://dev-blog.apollodata.com/whats-next-js-for-apollo-e4dfe835d070" target="_blank" rel="external">这篇文章</a>，或下载 <a href="https://github.com/zeit/next.js/tree/master/examples/with-apollo" target="_blank" rel="external">官方示例</a>。</p>
</li>
</ul>
<p>如果你有一个喜欢的 React 工具，但是集成到 Apollo  有些难度，请提一个 issue，我们一起让它更好地集成起来。</p>
<h3 id="graphql-servers"> GraphQL 服务器</h3>

<p>因为 Apollo 不会假定任超出何官方 GraphQL 规范以外的东西，所以它可以应用在各种语言实现的 GraphQL 服务器。它也不对你的 schema 作额外的要求;如果你可以向符合规范的 GraphQL 服务器发送查询，那么 Apollo 就可以处理它。你可以在 <a href="http://graphql.org/code/#server-libraries" target="_blank" rel="external">graphql.org</a> 上找到一些 GraphQL 服务器的实现。</p>
<h3 id="other-platforms">其他 JS、native平台</h3>

<p>这个文档网站是特别针对 React 的，但 Apollo 已为每个客户端平台提供了实现：</p>
<ul>
<li>JavaScript<ul>
<li><a href="/angular">Angular</a></li>
<li><a href="/core">纯 JS</a></li>
</ul>
</li>
<li>原生移动平台<ul>
<li><a href="http://dev.apollodata.com/ios/" target="_blank" rel="external">原生 iOS (Swift)</a></li>
<li><a href="https://github.com/apollographql/apollo-android" target="_blank" rel="external">原生 Android (Java)</a></li>
</ul>
</li>
</ul>
<h2 id="goals">项目目标</h2>

<p>Apollo Client 是 GraphQL 的 JavaScript 客户端。我们让 Apollo Client 做到：</p>
<ol>
<li><strong>增量可用</strong>，你可以在已有的 JavaScript 应用中，对于某一部分 UI 使用 GraphQL。</li>
<li><strong>通用兼容</strong>，Apollo 可以接受各种不同构建运行的 GraphQL 服务器，以及任何 GraphQL schema。</li>
<li><strong>方便监查和理解</strong>，你可以使用很好开发工具来确切地了解应用中发生的事情。</li>
<li><strong>专为交互式应用程序而设计</strong>，因此用户操作后可以立刻看到 UI 改变。</li>
<li><strong>社区驱动</strong>，所以你可以放心，这个项目会随着需求而不断发展。Apollo 最开始就是跟开发者用户一起开发的，所有项目都开源在 GitHub ，不会有什么你不知道的事情发生。</li>
</ol>
<p>Apollo Client 不仅仅是简单地向 GraphQL 服务器发起 query，它会分析你的查询及其结果，然后构建客户端缓存，对于后面的 query 和 mutation，缓存也实时更新。这意味着你的 UI 在客户端内部保持一致，并且用最少的查询次数来与服务器上的状态保持完全同步。</p>
<h2 id="comparison">其他 GraphQL 客户端</h2>

<p>如果你在考虑是否使用 <code>react-apollo</code> 或其他 GraphQL 客户端，那就要关注各个项目的<a href="#goals">出发点</a>以及它们的比较。这里列举一些要点：</p>
<ul>
<li><a href="https://facebook.github.io/relay/" target="_blank" rel="external">Relay</a> 是由 Facebook 为其移动应用程序构建的，主要考虑性能以及满足自家需求的 GraphQL 客户端。它专注如何让查询和组件可以更近更快（co-location）的获得结果，并且对于 GraphQL 的 schema 有一些严格规定，特别是在分页的情况下。 Apollo 有一些与 Relay 类似的功能，但它被设计成一个通用工具，可以适应任何 schema 和前端架构。Relay 的耦合会给某些特定架构带来一些好处，代价是失去了一些灵活性，这也促使 Appolo 社区更快地迭代测试一些实验特性。</li>
<li><a href="https://github.com/kadirahq/lokka" target="_blank" rel="external">Lokka</a> 是一个简单的 GraphQL JavaScript 客户端，具有基本的查询缓存。Appolo 则复杂一些，围绕着如何更新和重新拉取数据，提供了更贴心的缓存和其他高级功能。</li>
</ul>
<h2 id="learn-more">其他资源</h2>

<ul>
<li><a href="http://graphql.org" target="_blank" rel="external">GraphQL.org</a> GraphQL 的介绍和指南，由 Apollo 团队部分编写和维护。</li>
<li><a href="http://www.apollodata.com/" target="_blank" rel="external">我们的网站</a> 了解 Appolo 的开源和商业工具。</li>
<li><a href="https://medium.com/apollo-stack" target="_blank" rel="external">Medium 专栏</a> 提供关于 GraphQL 的文章，包括 Apollo 的功能公告，以及来自社区的文章。</li>
<li><a href="https://twitter.com/apollographql" target="_blank" rel="external">我们的 Twitter</a> 提供一些即时消息。</li>
</ul>

    </div>
  </div>

  <div class="pagination">
    <div class="content-wrapper">
      
      
      
        <a class="link primary next"
          href="initialization.html">
          <span class="subtitle-pagination">Next</span>
          设置和选项
          <span class="icon-arrow-right-alt"></span>
        </a>
      
    </div>
  </div>

  <div class="github">
    <a class="link tertiary " href="https://github.com/apollographqlcn/react-docs-cn/tree/master/source/index.md" target="_blank">
      <span class="icon-github"></span>Edit on GitHub</a>
  </div>

  
</div>

    <script src="/react-docs-cn/script/smooth-scroll.min.js"></script>
    <script src="/react-docs-cn/script/main.js"></script>
    <script type="text/javascript" src="//cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script>
    <script type="text/javascript" src="//cdn.jsdelivr.net/fastclick/1.0.6/fastclick.min.js"></script>

    <script>
      // nectar ninja
      (function(){
        var handle = '@meteorjs';
        var a = document.createElement('script');
        var m = document.getElementsByTagName('script')[0];
        a.async = 1;
        a.src = 'https://nectar.ninja/api/v1/' + handle.slice(1);
        m.parentNode.insertBefore(a, m);
      })();

     

      

      

      // search box
      

      
    </script>
  </body>
</html>
